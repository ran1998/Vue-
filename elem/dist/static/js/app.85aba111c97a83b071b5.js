webpackJsonp([0],{0:function(t,s){},"9xcf":function(t,s){},"Fw+L":function(t,s){},IJg0:function(t,s){},LWmQ:function(t,s){},MwG9:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},starClasses:function(){for(var t=[],s=Math.floor(2*this.score)/2,e=s%1!==!1,i=Math.floor(s),a=0;a<i;a++)t.push("on");for(e&&t.push("half");t.length<5;)t.push("off");return t}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.starType,attrs:{id:"star"}},t._l(t.starClasses,function(t){return e("span",{staticClass:"item",class:t})}))},staticRenderFns:[]};var o=e("VU/8")(a,n,!1,function(t){e("LWmQ")},null,null).exports,r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"lineText"}},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(t.message))]),t._v(" "),e("div",{staticClass:"line"})])},staticRenderFns:[]};var l=e("VU/8")({props:["message"]},r,!1,function(t){e("XgRU")},null,null).exports,c={data:function(){return{onOff:!1,text1:"优惠信息",text2:"商家公告"}},methods:{show:function(){this.onOff=!0},close:function(){this.onOff=!1}},props:{seller:{type:Object}},components:{star:o,lineText:l},created:function(){this.type=["derease","discount","special","invoice","guarantee"]}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"header-container"},[e("div",{staticClass:"fl header-img"},[e("span",[e("img",{attrs:{width:"64px",height:"64px",src:t.seller.avatar}})])]),t._v(" "),e("div",{staticClass:"textWrap fr"},[e("h3",[e("span"),t._v(t._s(t.seller.name))]),t._v(" "),e("p",[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?e("h5",[e("span",{class:t.type[t.seller.supports[0].type]}),t._v(t._s(t.seller.supports[0].description))]):t._e()]),t._v(" "),t.seller.supports?e("div",{staticClass:"btn"},[e("span",{on:{click:function(s){t.show()}}},[t._v(t._s(t.seller.supports.length)+"个"),e("i",{staticClass:"icon-keyboard_arrow_right"})])]):t._e()]),t._v(" "),e("div",{staticClass:"notice"},[e("div",{staticClass:"notice-wrap"},[e("span",{staticClass:"notice-img"}),t._v(" "),e("span",{staticClass:"notice-text"},[t._v(t._s(t.seller.bulletin))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{width:"100%",height:"auto",filter:"blur(200px)",src:t.seller.avatar}})]),t._v(" "),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.onOff,expression:"onOff"}],staticClass:"layer"},[e("div",{staticClass:"layer-wrap clear"},[e("div",{staticClass:"layer-main"},[e("h3",[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"starWrap"},[e("star",{attrs:{score:t.seller.score,size:48}})],1),t._v(" "),e("div",{staticClass:"titleWrap"},[e("lineText",{attrs:{message:t.text1}})],1),t._v(" "),t.seller.supports?e("ul",t._l(t.seller.supports,function(s){return e("li",[e("span",{class:t.type[s.type]}),t._v(" "),e("p",[t._v(t._s(s.description))])])})):t._e(),t._v(" "),e("div",{staticClass:"titleWrap"},[e("lineText",{attrs:{message:t.text2}})],1),t._v(" "),e("div",{staticClass:"textWrap"},[e("p",[t._v(t._s(t.seller.bulletin))])])])]),t._v(" "),e("div",{staticClass:"layer-close",on:{click:function(s){t.close()}}},[e("i",{staticClass:"icon-close"})])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"icon-keyboard_arrow_right"})])}]};var d={data:function(){return{seller:{}}},created:function(){var t=this;this.$http.get("/api/seller").then(function(s){s&&(console.log(s.body.data),t.seller=s.body.data)},function(){alert("请求失败")})},components:{vHeader:e("VU/8")(c,v,!1,function(t){e("Ve5k")},null,null).exports}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("vHeader",{attrs:{seller:t.seller}}),t._v(" "),e("div",{staticClass:"nav border-1px"},[e("div",{staticClass:"nav-item"},[e("router-link",{attrs:{to:"/goods"}},[e("a",[t._v("商品")])])],1),t._v(" "),e("div",{staticClass:"nav-item"},[e("router-link",{attrs:{to:"/rating"}},[e("a",[t._v("评价")])])],1),t._v(" "),e("div",{staticClass:"nav-item"},[e("router-link",{attrs:{to:"/seller"}},[e("a",[t._v("商家")])])],1)]),t._v(" "),e("router-view",{attrs:{seller:t.seller}})],1)},staticRenderFns:[]};var p=e("VU/8")(d,u,!1,function(t){e("cM6d")},null,null).exports,f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"split"}},[s("div",{staticClass:"border-top"}),this._v(" "),s("div",{staticClass:"split"}),this._v(" "),s("div",{staticClass:"border-bottom"})])}]};var _=e("VU/8")({},f,!1,function(t){e("f2IB")},null,null).exports,h=e("GQaK"),C={props:{seller:{type:Object}},data:function(){return{favorActive:!1,supportType:["derease","discount","special","invoice","guarantee"]}},watch:{seller:function(){var t=this;this.$nextTick(function(){t.picScroll(),t.init_scroll()})}},created:function(){var t=this;this.$nextTick(function(){t.picScroll(),t.init_scroll()})},components:{star:o,split:_},methods:{toggleFavorite:function(){this.favorActive=!this.favorActive},init_scroll:function(){var t=this;this.$nextTick(function(){t.scroll=new h.a(t.$refs.sellerScroll,{click:!0})})},picScroll:function(){if(this.seller.pics){var t=this.seller.pics.length;this.$refs.picContent.style.width=126*t-6+"px",this.picScroll=new h.a(this.$refs.picWrapper,{scrollX:!0,eventPassthrough:"vertical"})}}},computed:{favoriteText:function(){return this.favorActive?"已收藏":"收藏"}}},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"sellerScroll",attrs:{id:"seller"}},[e("div",{staticClass:"seller-scroll"},[e("div",{staticClass:"seller-wrap"},[e("div",{staticClass:"sellerHeader"},[e("h3",[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"sellerDesc"},[e("star",{staticClass:"star",attrs:{size:36,score:t.seller.score}}),t._v(" "),e("span",{staticClass:"ratingCount"},[t._v("("+t._s(t.seller.ratingCount)+")")]),t._v(" "),e("span",{staticClass:"sellCount"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])],1),t._v(" "),e("div",{staticClass:"favorite"},[e("span",{staticClass:"icon-favorite",class:{favorActive:t.favorActive},on:{click:function(s){t.toggleFavorite()}}}),t._v(" "),e("p",[t._v(t._s(t.favoriteText))])])]),t._v(" "),e("div",{staticClass:"sellerRule"},[e("ul",[e("li",[e("span",{staticClass:"label"},[t._v("起送价")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n")]),t._v(" "),e("li",[e("span",{staticClass:"label"},[t._v("商家配送")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n")]),t._v(" "),e("li",[e("span",{staticClass:"label"},[t._v("平均配送时间")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.seller.deliveryTime))]),t._v("元\n")])])])]),t._v(" "),e("split"),t._v(" "),e("div",{staticClass:"seller-info"},[e("h3",[t._v("公告与活动")]),t._v(" "),e("div",{staticClass:"infoText"},[e("p",[t._v(t._s(t.seller.bulletin))])]),t._v(" "),e("ul",t._l(t.seller.supports,function(s){return e("li",{staticClass:"supportsList"},[e("span",{staticClass:"supportsIcon",class:t.supportType[s.type]}),t._v(" "),e("span",{staticClass:"supportsText"},[t._v(t._s(s.description))])])}))]),t._v(" "),e("split"),t._v(" "),e("div",{staticClass:"sellerPic-container"},[e("h3",[t._v("商家实景")]),t._v(" "),e("div",{staticClass:"sellerPic"},[e("div",{ref:"picWrapper",staticClass:"picWrap"},[e("ul",{ref:"picContent"},t._l(t.seller.pics,function(t){return e("li",{staticClass:"picList"},[e("img",{attrs:{width:"120",height:"90",src:t}})])}))])])]),t._v(" "),e("split"),t._v(" "),e("div",{staticClass:"sellerInfos"},[e("h3",[t._v("商家信息")]),t._v(" "),e("ul",t._l(t.seller.infos,function(s){return e("li",{staticClass:"infosList"},[t._v(t._s(s))])}))])],1)])},staticRenderFns:[]};var m=e("VU/8")(C,g,!1,function(t){e("T0Et")},null,null).exports,y={props:{food:{type:Object}},methods:{add:function(t){this.food.count?this.food.count++:i.a.set(this.food,"count",1),this.$emit("add",t.target)},remove:function(t){this.food.count<0?i.a.set(this.food,"count",0):this.food.count--}}},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"controller"}},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"remove-wrap",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.remove(s)}}},[e("span",{staticClass:"icon-remove_circle_outline romove-icon"})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"num"},[t._v(t._s(this.food.count))]),t._v(" "),e("div",{staticClass:"add-wrap",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.add(s)}}},[e("span",{staticClass:"icon-add_circle add-icon"})])],1)},staticRenderFns:[]};var x=e("VU/8")(y,w,!1,function(t){e("Fw+L")},null,null).exports,T={data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],onOff:!0}},props:{selectFood:{type:Array,default:function(){return[{count:0,price:10}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},computed:{totlePrice:function(){var t=0;return this.selectFood.forEach(function(s){t+=s.price*s.count}),t},totleCount:function(){var t=0;return this.selectFood.forEach(function(s){t+=s.count}),t},dePrice:function(){return 0===this.totlePrice?"￥"+this.minPrice+"起送":this.totlePrice-this.minPrice<0?"还需￥"+(this.minPrice-this.totlePrice)+"起送":"去结算"},payActive:function(){return this.totlePrice-this.minPrice<0?"no-enght":"enght"},livePrice:function(){return 0===this.totlePrice?"还未选购商品":"配送费"+this.deliveryPrice+"元"},showList:function(){var t=this;if(!this.totleCount)return this.onOff=!0,!1;var s=!this.onOff;return s&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new h.a(t.$refs.list,{})}),s}},methods:{drop:function(t){console.log(t)},toggle:function(){this.totleCount&&(this.onOff=!this.onOff)},empty:function(){this.selectFood.forEach(function(t){t.count=0,console.log(t)})},hideMask:function(){this.onOff=!0}},components:{controller:x}},b={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"shopCat"}},[e("div",{staticClass:"shopCat-wrap",on:{click:function(s){t.toggle()}}},[e("div",{staticClass:"shopCat-left"},[e("div",{staticClass:"logo-wrap"},[e("span",{staticClass:"logo-bg",class:{light:t.totleCount>0}},[e("i",{staticClass:"icon-shopping_cart",class:{light:t.totleCount>0}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totleCount>0,expression:"totleCount>0"}],staticClass:"num"},[t._v(t._s(t.totleCount))])]),t._v(" "),e("div",{staticClass:"price",class:{light:t.totlePrice>0}},[t._v("￥"+t._s(t.totlePrice))]),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(t.livePrice))])]),t._v(" "),e("div",{staticClass:"shopCat-right",class:t.payActive},[t._v("\n"+t._s(t.dePrice)+"\n")])]),t._v(" "),e("div",{staticClass:"ball-container"},t._l(t.balls,function(t){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],staticClass:"ball",attrs:{transition:"drop"}},[e("div",{staticClass:"inner inner-hook"})])})),t._v(" "),e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"shopcart-list"},[e("div",{staticClass:"shop-header"},[e("h4",{staticClass:"buy"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("div",{ref:"list",staticClass:"list-content"},[e("ul",t._l(t.selectFood,function(s){return e("li",[e("p",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"price"},[t._v("￥"+t._s(s.price))]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("controller",{attrs:{food:s}})],1)])}))])])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"list-mask",on:{click:t.hideMask}})])],1)},staticRenderFns:[]};var F=e("VU/8")(T,b,!1,function(t){e("IJg0")},null,null).exports,k={props:{ratings:{type:Array},ratingType:{type:Number,default:2},onlyContent:{type:Boolean,default:!0},desc:{type:Object,default:function(){return{all:"全部",postive:"推荐",navtive:"吐槽"}}}},computed:{postive:function(){return this.ratings.filter(function(t){return 0===t.rateType})},navtive:function(){return this.ratings.filter(function(t){return 1===t.rateType})}},methods:{toggle:function(t,s){this.ratingType=t,this.$emit("editType",t)},onOff:function(){this.onlyContent=!this.onlyContent,this.$emit("editShow")}}},$={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"foodRating"}},[e("div",{staticClass:"ratingTab"},[e("span",{staticClass:"public bule",class:{active:2===t.ratingType},on:{click:function(s){t.toggle(2,s)}}},[t._v(t._s(t.desc.all)),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),t._v(" "),e("span",{staticClass:"public bule",class:{active:0===t.ratingType},on:{click:function(s){t.toggle(0,s)}}},[t._v(t._s(t.desc.postive)),e("span",{staticClass:"count"},[t._v(t._s(t.postive.length))])]),t._v(" "),e("span",{staticClass:"public gray",class:{active:1===t.ratingType},on:{click:function(s){t.toggle(1,s)}}},[t._v(t._s(t.desc.navtive)),e("span",{staticClass:"count"},[t._v(t._s(t.navtive.length))])])]),t._v(" "),e("div",{staticClass:"ratingFilter",class:{on:t.onlyContent},on:{click:function(s){t.onOff()}}},[t._m(0),t._v(" "),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"icon-check_circle"})])}]};var P=e("VU/8")(k,$,!1,function(t){e("wB4k")},null,null).exports;function S(t,s){/(y+)/.test(s)&&(s=s.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var e,i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in i)if(new RegExp("("+a+")").test(s)){var n=i[a]+"";s=s.replace(RegExp.$1,1===RegExp.$1.length?n:("00"+(e=n)).substr(e.length))}return s}var E={data:function(){return{foodFlag:!1,ratingType:2,onlyContent:!0,desc:{all:"全部",postive:"推荐",navtive:"吐槽"}}},props:{selectFood:{type:Object}},methods:{show:function(){var t=this;this.foodFlag=!0,this.$nextTick(function(){t.scroll||(t.scroll=new h.a(t.$refs.foodFlag,{click:!0}))})},back:function(){this.foodFlag=!1},addNum:function(t){this.selectFood.count||i.a.set(this.selectFood,"count",1)},editType:function(t){var s=this;this.ratingType=t,this.$nextTick(function(){s.scroll.refresh()})},editShow:function(){var t=this;this.onlyContent=!this.onlyContent,this.$nextTick(function(){t.scroll.refresh()})},needShow:function(t,s){return!(!s&&this.onlyContent)&&(2===this.ratingType||t===this.ratingType)}},components:{controller:x,split:_,foodRating:P},filters:{getDate:function(t){return S(new Date(t),"yyyy-MM-dd hh-mm")}}},N={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.foodFlag,expression:"foodFlag"}],ref:"foodFlag",attrs:{id:"food"}},[e("div",{staticClass:"food-container"},[e("div",{staticClass:"food-header"},[e("div",{staticClass:"back",on:{click:t.back}},[e("span",[e("i",{staticClass:"icon-arrow_lift"})])]),t._v(" "),e("img",{attrs:{src:t.selectFood.image}})]),t._v(" "),e("div",{staticClass:"food-content"},[e("h3",[t._v(t._s(t.selectFood.name))]),t._v(" "),e("div",{staticClass:"desc"},[e("span",[t._v("月售"+t._s(t.selectFood.sellCount)+"份"),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.selectFood.rating)+"%")])])]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("￥"),e("strong",{staticClass:"newPrice"},[t._v(t._s(t.selectFood.price))])]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.selectFood.oldPrice,expression:"selectFood.oldPrice"}],staticClass:"oldPrice"},[t._v("￥"),e("strong",[t._v(t._s(t.selectFood.oldPrice))])])]),t._v(" "),e("div",{staticClass:"controller-wrap"},[e("controller",{attrs:{food:t.selectFood}})],1),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.selectFood.count||0==t.selectFood.count,expression:"!selectFood.count || selectFood.count==0"}],staticClass:"pay",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.addNum(s)}}},[e("span",[t._v("加入购物车")])])])],1),t._v(" "),e("split"),t._v(" "),e("div",{staticClass:"info"},[e("h3",[t._v("商品介绍")]),t._v(" "),e("p",[t._v(t._s(t.selectFood.info))])]),t._v(" "),e("split"),t._v(" "),e("div",{staticClass:"ratings-wrap"},[e("h3",[t._v("商品评价")]),t._v(" "),e("foodRating",{attrs:{ratings:t.selectFood.ratings,ratingType:t.ratingType,onlyContent:t.onlyContent,desc:t.desc},on:{editType:t.editType,editShow:t.editShow}}),t._v(" "),e("transition",{attrs:{name:"move"}},[e("ul",t._l(t.selectFood.ratings,function(s){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(rating.rateType, rating.text)"}],staticClass:"ratingList"},[e("div",{staticClass:"user"},[e("span",{staticClass:"username"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s.avatar}})])]),t._v(" "),e("div",{staticClass:"ratingContent"},[e("div",{staticClass:"time"},[t._v(t._s(t._f("getDate")(s.rateTime)))]),t._v(" "),e("p",{staticClass:"text"},[e("span",{class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._v(t._s(s.text))])])])}))])],1)],1)])])},staticRenderFns:[]};var R=e("VU/8")(E,N,!1,function(t){e("9xcf")},null,null).exports,O={props:{seller:{type:Object}},data:function(){return{foods:[],menuScroll:"",foodScroll:"",scrollY:0,heightArr:[],selectFood:{}}},created:function(){var t=this;this.$http.get("/api/goods").then(function(s){0===s.body.error&&(t.foods=s.body.data,console.log(s.body.data),t.$nextTick(function(){t._initScroll(),t.getHeight()})),t.type=["derease","discount","special","invoice","guarantee"]})},methods:{select:function(){var t=[];return this.foods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t},drop:function(t){console.log(t)},_initScroll:function(){var t=this;this.menuScroll=new h.a(this.$refs.menuWrap,{click:!0}),this.foodScroll=new h.a(this.$refs.foodWrap,{click:!0,probeType:3}),this.foodScroll.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},FScroll:function(t,s){var e=this.$refs.foodWrap.getElementsByClassName("foodListWrap");this.foodScroll.scrollToElement(e[t],300)},getHeight:function(){var t=this.$refs.foodWrap.getElementsByClassName("foodListWrap"),s=0;this.heightArr.push(s);for(var e=0;e<t.length;e++)s+=t[e].clientHeight,this.heightArr.push(s)},flagShow:function(t,s){this.$refs.flagShow.show(),this.selectFood=t}},computed:{_getIndex:function(){for(var t=0;t<this.heightArr.length;t++){var s=this.heightArr[t],e=this.heightArr[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}}},components:{shopCat:F,controller:x,food:R},events:{add:function(t){console.log(t),this._drop(123)}}},A={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"goods"}},[e("div",{ref:"menuWrap",staticClass:"menu-wrap"},[e("ul",t._l(t.foods,function(s,i){return e("li",{class:{menuActive:t._getIndex===i},on:{click:function(s){t.FScroll(i,s)}}},[e("span",{staticClass:"text border-1px"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.type[s.type]}),t._v("\n"+t._s(s.name)+"\n")])])}))]),t._v(" "),e("div",{ref:"foodWrap",staticClass:"foods-wrap"},[e("ul",t._l(t.foods,function(s){return e("li",{staticClass:"foodListWrap"},[e("h1",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",t._l(s.foods,function(s){return e("li",{staticClass:"foodList",on:{click:function(e){t.flagShow(s,e)}}},[e("div",{staticClass:"food-img"},[e("img",{attrs:{width:"57",height:"57",src:s.icon}})]),t._v(" "),e("div",{staticClass:"content"},[e("h3",[t._v(t._s(s.name))]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:s.description,expression:"food.description"}]},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"info"},[e("span",[t._v("月售"+t._s(s.sellCount)+"份"),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(s.rating)+"%")])])]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("￥"),e("strong",{staticClass:"newPrice"},[t._v(t._s(s.price))])]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:s.oldPrice,expression:"food.oldPrice"}],staticClass:"oldPrice"},[t._v("￥"),e("strong",[t._v(t._s(s.oldPrice))])])]),t._v(" "),e("div",{staticClass:"controller-wrap"},[e("controller",{attrs:{food:s}})],1)])])}))])})),t._v(" "),e("shopCat",{ref:"shopcart",attrs:{deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice,selectFood:t.select()}})],1),t._v(" "),e("food",{ref:"flagShow",attrs:{selectFood:t.selectFood}})],1)},staticRenderFns:[]};var W=e("VU/8")(O,A,!1,function(t){e("MwG9")},null,null).exports,L={props:{seller:{type:Object}},data:function(){return{ratings:[],ratingType:2,onlyContent:!1,desc:{all:"全部",postive:"满意",navtive:"不满意"}}},methods:{editType:function(t){this.ratingType=t},editShow:function(){this.onlyContent=!this.onlyContent},needShow:function(t,s){return!(!s&&this.onlyContent)&&(2===this.ratingType||t===this.ratingType)}},created:function(){var t=this;this.$http.get("/api/ratings").then(function(s){0===s.body.error&&(console.log(s.body.data),t.ratings=s.body.data,t.$nextTick(function(){t.scroll=new h.a(t.$refs.ratings,{click:!0})}))})},filters:{getDate:function(t){return S(new Date(t),"yyyy-MM-dd hh-mm")}},components:{star:o,split:_,foodRating:P}},M={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",attrs:{id:"ratings-container"}},[e("div",{staticClass:"rating-scroll"},[e("div",{staticClass:"score-wrap"},[e("div",{staticClass:"score-left"},[e("h1",[t._v(t._s(t.seller.score))]),t._v(" "),e("h3",[t._v("综合评分")]),t._v(" "),e("span",[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),e("div",{staticClass:"score-right"},[e("div",{staticClass:"serviceScore"},[e("span",{staticClass:"scoreText"},[t._v("服务态度")]),t._v(" "),e("star",{staticClass:"star",attrs:{size:36,score:t.seller.serviceScore}}),t._v(" "),e("span",{staticClass:"scoreNum"},[t._v(t._s(t.seller.serviceScore))])],1),t._v(" "),e("div",{staticClass:"sellerScore"},[e("span",{staticClass:"scoreText"},[t._v("商品评分")]),t._v(" "),e("star",{staticClass:"star",attrs:{size:36,score:t.seller.foodScore}}),t._v(" "),e("span",{staticClass:"scoreNum"},[t._v(t._s(t.seller.foodScore))])],1),t._v(" "),e("div",{staticClass:"arriveTime"},[e("span",{staticClass:"scoreText"},[t._v("送达时间")]),e("span",{staticClass:"Time"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),t._v(" "),e("split"),t._v(" "),e("foodRating",{attrs:{ratings:t.ratings,ratingType:t.ratingType,onlyContent:t.onlyContent,desc:t.desc},on:{editType:t.editType,editShow:t.editShow}}),t._v(" "),e("div",{staticClass:"rating-wrap"},[e("ul",t._l(t.ratings,function(s){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(rating.rateType, rating.text)"}],staticClass:"ratingsList"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s.avatar}})]),t._v(" "),e("div",{staticClass:"ratingContent"},[e("span",{staticClass:"username"},[t._v(t._s(s.username))]),t._v(" "),e("div",{staticClass:"scoreInfo"},[e("star",{staticClass:"star",attrs:{size:24,score:s.score}}),t._v(" "),s.deliveryTime?e("span",{staticClass:"deliveryTime"},[t._v(t._s(s.deliveryTime)+"分钟送达")]):t._e()],1),t._v(" "),e("p",{staticClass:"ratingText"},[t._v(t._s(s.text))]),t._v(" "),e("div",{staticClass:"recommend-wrap"},[e("span",{staticClass:"rateIcon",class:{"icon-thumb_up":0===s.rateType,"icon-thumb_down":1===s.rateType}}),t._v(" "),t._l(s.recommend,function(i){return s.recommend&&s.recommend.length?e("span",{staticClass:"recommend"},[t._v(t._s(i))]):t._e()})],2),t._v(" "),e("div",{staticClass:"rateTime"},[t._v(t._s(t._f("getDate")(s.rateTime)))])])])}))])],1)])},staticRenderFns:[]};var U=e("VU/8")(L,M,!1,function(t){e("T/iF")},null,null).exports,V=e("/ocq"),D=e("8+8L");i.a.use(V.a),i.a.use(D.a);var I=new V.a({linkActiveClass:"active",routes:[{path:"/seller",component:m},{path:"/goods",component:W},{path:"/rating",component:U},{path:"*",redirect:"/goods"}]});i.a.config.productionTip=!1,new i.a({router:I,template:"<App/>",components:{App:p}}).$mount("#app")},"T/iF":function(t,s){},T0Et:function(t,s){},Ve5k:function(t,s){},XgRU:function(t,s){},cM6d:function(t,s){},f2IB:function(t,s){},wB4k:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.85aba111c97a83b071b5.js.map